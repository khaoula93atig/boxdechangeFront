{"version":3,"file":"angular-highcharts.js","sources":["../../projects/angular-highcharts/src/lib/chart.ts","../../projects/angular-highcharts/src/lib/mapchart.ts","../../projects/angular-highcharts/src/lib/stockchart.ts","../../projects/angular-highcharts/src/lib/highcharts-gantt.ts","../../projects/angular-highcharts/src/lib/chart.directive.ts","../../projects/angular-highcharts/src/lib/chart.service.ts","../../projects/angular-highcharts/src/lib/chart.module.ts"],"names":["Highcharts.chart","Highmaps.mapChart","Highstock.stockChart","Highcharts.ganttChart","Highcharts_Gnatt"],"mappings":"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","sourcesContent":["import { ElementRef } from '@angular/core';\nimport * as Highcharts from 'highcharts';\nimport { AsyncSubject, Observable } from 'rxjs';\n\n/**\n * @license\n * Copyright Felix Itzenplitz. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at\n * https://github.com/cebor/angular-highcharts/blob/master/LICENSE\n * @author Felix Itzenplitz\n * @author Timothy A. Perez (contributor)\n */\nexport type Point = number | [number, number] | Highcharts.Point;\n\nexport class Chart {\n  private refSubject: AsyncSubject<Highcharts.Chart> = new AsyncSubject();\n  ref$: Observable<Highcharts.Chart> = this.refSubject.asObservable();\n  ref: Highcharts.Chart;\n\n  constructor(private options: Highcharts.Options = { series: [] }) {}\n\n  /**\n   * Add Point\n   * @param point         Highcharts.DataPoint, number touple or number\n   * @param serieIndex    Index position of series. This defaults to 0.\n   * @param redraw        Flag whether or not to redraw point. This defaults to true.\n   * @param shift         Shift point to the start of series. This defaults to false.\n   */\n  addPoint(point: Point, serieIndex: number = 0, redraw: boolean = true, shift: boolean = false): void {\n    this.ref$.subscribe(chart => {\n      if (chart.series.length > serieIndex) {\n        chart.series[serieIndex].addPoint(point, redraw, shift);\n      }\n    });\n  }\n\n  /**\n   * Add Series\n   * @param series        Series Configuration\n   * @param redraw        Flag whether or not to redraw series. This defaults to true.\n   * @param animation     Whether to apply animation, and optionally animation configuration. This defaults to false.\n   */\n  addSeries(series: Highcharts.SeriesOptionsType, redraw = true, animation: boolean): void {\n    this.ref$.subscribe(chart => {\n      chart.addSeries(series, redraw, animation);\n    });\n  }\n\n  /**\n   * Remove Point\n   * @param pointIndex    Index of Point\n   * @param serieIndex    Specified Index of Series. Defaults to 0.\n   */\n  removePoint(pointIndex: number, serieIndex = 0): void {\n    this.ref$.subscribe(chart => {\n      if (chart.series.length > serieIndex && chart.series[serieIndex].data.length > pointIndex) {\n        chart.series[serieIndex].removePoint(pointIndex, true);\n      }\n    });\n  }\n\n  /**\n   * Remove Series\n   * @param seriesIndex    Index position of series to remove.\n   */\n  removeSeries(seriesIndex: number): void {\n    this.ref$.subscribe(chart => {\n      if (chart.series.length > seriesIndex) {\n        chart.series[seriesIndex].remove(true);\n      }\n    });\n  }\n\n  init(el: ElementRef): void {\n    if (!this.ref) {\n      Highcharts.chart(el.nativeElement, this.options, chart => {\n        if (!this.ref) { // TODO: workaround for doubled callbacks on exporting charts: issue #238\n          this.refSubject.next(chart);\n          this.ref = chart;\n          this.refSubject.complete();\n        }\n      });\n    }\n  }\n\n  destroy() {\n    if (this.ref) {\n      this.options = this.ref.options;\n      this.ref.destroy();\n      this.ref = undefined;\n\n      // new init subject\n      this.refSubject = new AsyncSubject();\n      this.ref$ = this.refSubject.asObservable();\n    }\n  }\n}\n","import { ElementRef } from '@angular/core';\n// import * as Highcharts from 'highcharts';\nimport * as Highmaps from 'highcharts/highmaps';\nimport { AsyncSubject, Observable } from 'rxjs';\n\n/**\n * @license\n * Copyright Felix Itzenplitz. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at\n * https://github.com/cebor/angular-highcharts/blob/master/LICENSE\n */\nexport class MapChart {\n  private refSubject: AsyncSubject<Highmaps.Chart> = new AsyncSubject();\n  ref$: Observable<Highmaps.Chart> = this.refSubject.asObservable();\n  ref: Highmaps.Chart;\n\n  constructor(private options: Highmaps.Options = { series: [] }) {}\n\n  init(el: ElementRef): void {\n    if (!this.ref) {\n      Highmaps.mapChart(el.nativeElement, this.options, chart => {\n        if (!this.ref) { // TODO: workaround for doubled callbacks on exporting charts: issue #238\n          this.refSubject.next(chart);\n          this.ref = chart;\n          this.refSubject.complete();\n        }\n      });\n    }\n  }\n\n  destroy() {\n    if (this.ref) {\n      this.options = this.ref.options;\n      this.ref.destroy();\n      this.ref = undefined;\n\n      // new init subject\n      this.refSubject = new AsyncSubject();\n      this.ref$ = this.refSubject.asObservable();\n    }\n  }\n}\n","import { ElementRef } from '@angular/core';\n//import * as Highcharts from 'highcharts';\nimport * as Highstock from 'highcharts/highstock';\nimport { AsyncSubject, Observable } from 'rxjs';\n\n\n/**\n * @license\n * Copyright Felix Itzenplitz. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at\n * https://github.com/cebor/angular-highcharts/blob/master/LICENSE\n *\n * @author Felix Itzenplitz\n * @author Timothy A. Perez (contributor)\n */\nexport class StockChart {\n  private refSubject: AsyncSubject<Highstock.Chart> = new AsyncSubject();\n  ref$: Observable<Highstock.Chart> = this.refSubject.asObservable();\n  ref: Highstock.Chart;\n  constructor(private options: Highstock.Options = { series: [] }) {}\n\n  init(el: ElementRef): void {\n    if (!this.ref) {\n      Highstock.stockChart(el.nativeElement, this.options, chart => {\n        if (!this.ref) { // TODO: workaround for doubled callbacks on exporting charts: issue #238\n          this.refSubject.next(chart);\n          this.ref = chart;\n          this.refSubject.complete();\n        }\n      });\n    }\n  }\n\n  destroy() {\n    if (this.ref) {\n      this.options = this.ref.options;\n      this.ref.destroy();\n      this.ref = undefined;\n\n      // new init subject\n      this.refSubject = new AsyncSubject();\n      this.ref$ = this.refSubject.asObservable();\n    }\n  }\n}\n","import { ElementRef } from '@angular/core';\nimport * as Highcharts from 'highcharts/highcharts-gantt';\nimport { AsyncSubject, Observable } from 'rxjs';\n\n/**\n * @license\n * Copyright Felix Itzenplitz. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at\n * https://github.com/cebor/angular-highcharts/blob/master/LICENSE\n */\nexport class HighchartsGantt {\n  private refSubject: AsyncSubject<Highcharts.Chart> = new AsyncSubject();\n  ref$: Observable<Highcharts.Chart> = this.refSubject.asObservable();\n  ref: Highcharts.Chart;\n\n  constructor(private options: Highcharts.Options = { series: [] }) {}\n\n  init(el: ElementRef): void {\n    if (!this.ref) {\n      Highcharts.ganttChart(el.nativeElement, this.options, chart => {\n        if (!this.ref) { // TODO: workaround for doubled callbacks on exporting charts: issue #238\n          this.refSubject.next(chart);\n          this.ref = chart;\n          this.refSubject.complete();\n        }\n      });\n    }\n  }\n\n  destroy() {\n    if (this.ref) {\n      this.options = this.ref.options;\n      this.ref.destroy();\n      this.ref = undefined;\n\n      // new init subject\n      this.refSubject = new AsyncSubject();\n      this.ref$ = this.refSubject.asObservable();\n    }\n  }\n}\n","/**\n * @license\n * Copyright Felix Itzenplitz. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at\n * https://github.com/cebor/angular-highcharts/blob/master/LICENSE\n */\nimport { Directive, ElementRef, Input, OnChanges, OnDestroy, OnInit, SimpleChanges } from '@angular/core';\nimport { Chart } from './chart';\nimport { MapChart } from './mapchart';\nimport { StockChart } from './stockchart';\nimport { HighchartsGantt } from './highcharts-gantt';\n\n@Directive({\n  selector: '[chart]'\n})\nexport class ChartDirective implements OnInit, OnDestroy, OnChanges {\n  @Input() chart: Chart | StockChart | MapChart | HighchartsGantt;\n\n  constructor(private el: ElementRef) {}\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (!changes.chart.isFirstChange()) {\n      this.destroy();\n      this.init();\n    }\n  }\n\n  ngOnInit() {\n    this.init();\n  }\n\n  ngOnDestroy() {\n    this.destroy();\n  }\n\n  private init() {\n    if (this.chart instanceof Chart || this.chart instanceof StockChart || this.chart instanceof MapChart\n      || this.chart instanceof HighchartsGantt) {\n      this.chart.init(this.el);\n    }\n  }\n\n  private destroy() {\n    if (this.chart instanceof Chart || this.chart instanceof StockChart || this.chart instanceof MapChart\n      || this.chart instanceof HighchartsGantt) {\n      this.chart.destroy();\n    }\n  }\n}\n","/**\n * @license\n * Copyright Felix Itzenplitz. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at\n * https://github.com/cebor/angular-highcharts/blob/master/LICENSE\n */\nimport { Inject, Injectable, InjectionToken } from '@angular/core';\nimport * as Highcharts from 'highcharts';\nimport * as Highstock from 'highcharts/highstock';\nimport * as Highmaps from 'highcharts/highmaps';\nimport * as Highcharts_Gnatt from 'highcharts/highcharts-gantt';\n\nexport let HIGHCHARTS_MODULES = new InjectionToken<any[]>('HighchartsModules');\n\n@Injectable()\nexport class ChartService {\n  constructor(@Inject(HIGHCHARTS_MODULES) private chartModules: any[]) { }\n\n  initModules() {\n    this.chartModules.forEach(chartModule => {\n      [Highcharts, Highstock, Highmaps, Highcharts_Gnatt].forEach(chartModule);\n    });\n  }\n}\n","/**\n * @license\n * Copyright Felix Itzenplitz. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at\n * https://github.com/cebor/angular-highcharts/blob/master/LICENSE\n */\nimport { NgModule } from '@angular/core';\nimport { ChartDirective } from './chart.directive';\nimport { ChartService, HIGHCHARTS_MODULES } from './chart.service';\n\n@NgModule({\n  exports: [ChartDirective],\n  declarations: [ChartDirective],\n  providers: [\n    { provide: HIGHCHARTS_MODULES, useValue: [] },\n    ChartService\n  ]\n})\nexport class ChartModule {\n  constructor(private cs: ChartService) {\n    this.cs.initModules();\n  }\n}\n"]}